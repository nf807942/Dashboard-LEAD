<ng-template matStepLabel>{{"EXPERIMENT.RUNNING" | translate}}</ng-template>
<div *ngIf="experiments$ | async as experiments; else loading">
    <ng-container *ngIf="experiments.length !== 0; else noResult">
        <div class="experiment-available margin-bottom">{{"EXPERIMENT.AVAILABLE" | translate}} : </div>
        <mat-accordion>
            <mat-expansion-panel *ngFor="let experiment of experiments">
                <mat-expansion-panel-header>
                    <mat-panel-title>{{experiment.title}}</mat-panel-title>
                    <mat-panel-description>{{experiment.duration}} {{"APP.MINUTE" | translate}}</mat-panel-description>
                </mat-expansion-panel-header>
                <p>{{experiment.description}}</p>
                <mat-action-row>
                    <a class="rotate-icon-infinite" [routerLink]="experiment.id" mat-raised-button color="primary" (click)="null">
                        {{"EXPERIMENT.JOIN" | translate}} <mat-icon>science</mat-icon>
                    </a>
                  </mat-action-row>
            </mat-expansion-panel>
          </mat-accordion>
    </ng-container>
</div>

<ng-template #loading>
    <div class="spinner-center">
        <mat-spinner></mat-spinner>
        {{"APP.LOADING" | translate}}
    </div>
</ng-template>

<ng-template #noResult>
    <div class="spinner-center">
        {{"EXPERIMENT.NO-RESULT" | translate}}
    </div>
</ng-template>